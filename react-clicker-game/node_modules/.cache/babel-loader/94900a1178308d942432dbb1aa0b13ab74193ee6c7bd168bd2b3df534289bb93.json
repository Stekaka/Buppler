{"ast":null,"code":"import React,{useMemo,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Bubble=_ref=>{let{position,onPop}=_ref;// Randomize size and animation duration for each bubble\nconst isMobile=window.innerWidth<600;const{size,animationDuration}=useMemo(()=>{const min=isMobile?36:48;const max=isMobile?60:80;return{size:min+Math.random()*(max-min),animationDuration:isMobile?1.2+Math.random()*0.8:2+Math.random()*1.5};},[]);// Pop state for splash animation\nconst[popped,setPopped]=useState(false);const handlePop=()=>{setPopped(true);setTimeout(onPop,400);// Wait for splash animation\n};const SPLASH_DIRECTIONS=useMemo(()=>{// 6 droplets, randomize angle a bit for each\nconst base=Math.random()*Math.PI*2;return Array.from({length:6},(_,i)=>{const angle=base+i*Math.PI*2/6+(Math.random()-0.5)*0.3;return{x:Math.cos(angle),y:Math.sin(angle),hue:Math.floor(180+Math.random()*120)};});},[popped]);return/*#__PURE__*/_jsx(\"div\",{className:\"absolute cursor-pointer select-none\",style:{left:position.x,top:position.y,width:size,height:size,zIndex:10,pointerEvents:popped?\"none\":\"auto\"},onClick:handlePop,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bubble-visual \".concat(popped?\"bubble-pop\":\"\"),style:{width:\"100%\",height:\"100%\",borderRadius:\"50%\",boxShadow:\"0 0 24px 6px #b3e5fc88, 0 0 0 2px #fff8\",animation:\"bubble-float \".concat(animationDuration,\"s ease-in-out infinite alternate\")},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",left:\"20%\",top:\"18%\",width:\"30%\",height:\"28%\",borderRadius:\"50%\",background:\"rgba(255,255,255,0.35)\",filter:\"blur(1.5px)\",pointerEvents:\"none\"}}),popped&&SPLASH_DIRECTIONS.map((dir,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"bubble-splash-droplet\",style:{\"--dir-x\":dir.x,\"--dir-y\":dir.y,\"--bubble-size\":\"\".concat(size,\"px\"),\"--droplet-hue\":dir.hue}},i))]})});};export default Bubble;","map":{"version":3,"names":["React","useMemo","useState","jsx","_jsx","jsxs","_jsxs","Bubble","_ref","position","onPop","isMobile","window","innerWidth","size","animationDuration","min","max","Math","random","popped","setPopped","handlePop","setTimeout","SPLASH_DIRECTIONS","base","PI","Array","from","length","_","i","angle","x","cos","y","sin","hue","floor","className","style","left","top","width","height","zIndex","pointerEvents","onClick","children","concat","borderRadius","boxShadow","animation","background","filter","map","dir"],"sources":["/Users/ocmac/Buppler/Buppler/react-clicker-game/src/components/Bubble.tsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\n\ninterface BubbleProps {\n    position: { x: number; y: number };\n    onPop: () => void;\n}\n\nconst Bubble: React.FC<BubbleProps> = ({ position, onPop }) => {\n    // Randomize size and animation duration for each bubble\n    const isMobile = window.innerWidth < 600;\n    const { size, animationDuration } = useMemo(() => {\n        const min = isMobile ? 36 : 48;\n        const max = isMobile ? 60 : 80;\n        return {\n            size: min + Math.random() * (max - min),\n            animationDuration: isMobile\n                ? 1.2 + Math.random() * 0.8\n                : 2 + Math.random() * 1.5,\n        };\n    }, []);\n\n    // Pop state for splash animation\n    const [popped, setPopped] = useState(false);\n\n    const handlePop = () => {\n        setPopped(true);\n        setTimeout(onPop, 400); // Wait for splash animation\n    };\n\n    const SPLASH_DIRECTIONS = useMemo(() => {\n        // 6 droplets, randomize angle a bit for each\n        const base = Math.random() * Math.PI * 2;\n        return Array.from({ length: 6 }, (_, i) => {\n            const angle = base + (i * Math.PI * 2) / 6 + (Math.random() - 0.5) * 0.3;\n            return { x: Math.cos(angle), y: Math.sin(angle), hue: Math.floor(180 + Math.random() * 120) };\n        });\n    }, [popped]);\n\n    return (\n        <div\n            className=\"absolute cursor-pointer select-none\"\n            style={{\n                left: position.x,\n                top: position.y,\n                width: size,\n                height: size,\n                zIndex: 10,\n                pointerEvents: popped ? \"none\" : \"auto\",\n            }}\n            onClick={handlePop}\n        >\n            <div\n                className={`bubble-visual ${popped ? \"bubble-pop\" : \"\"}`}\n                style={{\n                    width: \"100%\",\n                    height: \"100%\",\n                    borderRadius: \"50%\",\n                    boxShadow: \"0 0 24px 6px #b3e5fc88, 0 0 0 2px #fff8\",\n                    animation: `bubble-float ${animationDuration}s ease-in-out infinite alternate`,\n                }}\n            >\n                {/* Soap bubble highlight */}\n                <div\n                    style={{\n                        position: \"absolute\",\n                        left: \"20%\",\n                        top: \"18%\",\n                        width: \"30%\",\n                        height: \"28%\",\n                        borderRadius: \"50%\",\n                        background: \"rgba(255,255,255,0.35)\",\n                        filter: \"blur(1.5px)\",\n                        pointerEvents: \"none\",\n                    }}\n                />\n                {/* Splash droplets */}\n                {popped &&\n                    SPLASH_DIRECTIONS.map((dir, i) => (\n                        <div\n                            key={i}\n                            className=\"bubble-splash-droplet\"\n                            style={{\n                                \"--dir-x\": dir.x,\n                                \"--dir-y\": dir.y,\n                                \"--bubble-size\": `${size}px`,\n                                \"--droplet-hue\": dir.hue,\n                            } as React.CSSProperties}\n                        />\n                    ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Bubble;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}